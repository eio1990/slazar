{"dependencies":[{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":32,"index":32}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../createMMKV/getDefaultMMKVInstance","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":81},"end":{"line":3,"column":77,"index":158}}],"key":"DiSZT0xdzLAiN93w0d0GfoSFlyA=","exportNames":["*"],"imports":1}},{"name":"./useMMKVListener","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":159},"end":{"line":4,"column":51,"index":210}}],"key":"joIQSjk7PEfJZ05EtSkw5JFTclA=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.useMMKVKeys = useMMKVKeys;\n  var _babelRuntimeHelpersSlicedToArray = require(_dependencyMap[0], \"@babel/runtime/helpers/slicedToArray\");\n  var _slicedToArray = _interopDefault(_babelRuntimeHelpersSlicedToArray);\n  var _react = require(_dependencyMap[1], \"react\");\n  var _createMMKVGetDefaultMMKVInstance = require(_dependencyMap[2], \"../createMMKV/getDefaultMMKVInstance\");\n  var _useMMKVListener = require(_dependencyMap[3], \"./useMMKVListener\");\n  /**\n   * Get a list of all keys that exist in the given MMKV {@linkcode instance}.\n   * The keys update when new keys are added or removed.\n   * @param instance The instance to listen to changes to (or the default instance)\n   *\n   * @example\n   * ```ts\n   * useMMKVKeys(instance)\n   * ```\n   */\n  function useMMKVKeys(instance) {\n    var mmkv = instance ?? (0, _createMMKVGetDefaultMMKVInstance.getDefaultMMKVInstance)();\n    var _useState = (0, _react.useState)(() => mmkv.getAllKeys()),\n      _useState2 = (0, _slicedToArray.default)(_useState, 2),\n      allKeys = _useState2[0],\n      setKeys = _useState2[1];\n    (0, _useMMKVListener.useMMKVListener)(key => {\n      // a key changed\n      setKeys(keys => {\n        var currentlyHasKey = keys.includes(key);\n        var hasKey = mmkv.contains(key);\n        if (hasKey !== currentlyHasKey) {\n          // Re-fetch the keys from native\n          return mmkv.getAllKeys();\n        } else {\n          // We are up-to-date.\n          return keys;\n        }\n      });\n    }, mmkv);\n    return allKeys;\n  }\n});","lineCount":50,"map":[[12,2,16,0,"exports"],[12,9,16,0],[12,10,16,0,"useMMKVKeys"],[12,21,16,0],[12,24,16,0,"useMMKVKeys"],[12,35,16,0],[13,2,36,1],[13,6,36,1,"_babelRuntimeHelpersSlicedToArray"],[13,39,36,1],[13,42,36,1,"require"],[13,49,36,1],[13,50,36,1,"_dependencyMap"],[13,64,36,1],[14,2,36,1],[14,6,36,1,"_slicedToArray"],[14,20,36,1],[14,23,36,1,"_interopDefault"],[14,38,36,1],[14,39,36,1,"_babelRuntimeHelpersSlicedToArray"],[14,72,36,1],[15,2,1,0],[15,6,1,0,"_react"],[15,12,1,0],[15,15,1,0,"require"],[15,22,1,0],[15,23,1,0,"_dependencyMap"],[15,37,1,0],[16,2,3,0],[16,6,3,0,"_createMMKVGetDefaultMMKVInstance"],[16,39,3,0],[16,42,3,0,"require"],[16,49,3,0],[16,50,3,0,"_dependencyMap"],[16,64,3,0],[17,2,4,0],[17,6,4,0,"_useMMKVListener"],[17,22,4,0],[17,25,4,0,"require"],[17,32,4,0],[17,33,4,0,"_dependencyMap"],[17,47,4,0],[18,2,6,0],[19,0,7,0],[20,0,8,0],[21,0,9,0],[22,0,10,0],[23,0,11,0],[24,0,12,0],[25,0,13,0],[26,0,14,0],[27,0,15,0],[28,2,16,7],[28,11,16,16,"useMMKVKeys"],[28,22,16,27,"useMMKVKeys"],[28,23,16,28,"instance"],[28,31,16,43],[28,33,16,55],[29,4,17,2],[29,8,17,8,"mmkv"],[29,12,17,12],[29,15,17,15,"instance"],[29,23,17,23],[29,27,17,27],[29,31,17,27,"getDefaultMMKVInstance"],[29,64,17,49],[29,65,17,49,"getDefaultMMKVInstance"],[29,87,17,49],[29,89,17,50],[29,90,17,51],[30,4,18,2],[30,8,18,2,"_useState"],[30,17,18,2],[30,20,18,29],[30,24,18,29,"useState"],[30,30,18,37],[30,31,18,37,"useState"],[30,39,18,37],[30,41,18,48],[30,47,18,54,"mmkv"],[30,51,18,58],[30,52,18,59,"getAllKeys"],[30,62,18,69],[30,63,18,70],[30,64,18,71],[30,65,18,72],[31,6,18,72,"_useState2"],[31,16,18,72],[31,23,18,72,"_slicedToArray"],[31,37,18,72],[31,38,18,72,"default"],[31,45,18,72],[31,47,18,72,"_useState"],[31,56,18,72],[32,6,18,9,"allKeys"],[32,13,18,16],[32,16,18,16,"_useState2"],[32,26,18,16],[33,6,18,18,"setKeys"],[33,13,18,25],[33,16,18,25,"_useState2"],[33,26,18,25],[34,4,20,2],[34,8,20,2,"useMMKVListener"],[34,24,20,17],[34,25,20,17,"useMMKVListener"],[34,40,20,17],[34,42,20,19,"key"],[34,45,20,22],[34,49,20,27],[35,6,21,4],[36,6,22,4,"setKeys"],[36,13,22,11],[36,14,22,13,"keys"],[36,18,22,17],[36,22,22,22],[37,8,23,6],[37,12,23,12,"currentlyHasKey"],[37,27,23,27],[37,30,23,30,"keys"],[37,34,23,34],[37,35,23,35,"includes"],[37,43,23,43],[37,44,23,44,"key"],[37,47,23,47],[37,48,23,48],[38,8,24,6],[38,12,24,12,"hasKey"],[38,18,24,18],[38,21,24,21,"mmkv"],[38,25,24,25],[38,26,24,26,"contains"],[38,34,24,34],[38,35,24,35,"key"],[38,38,24,38],[38,39,24,39],[39,8,25,6],[39,12,25,10,"hasKey"],[39,18,25,16],[39,23,25,21,"currentlyHasKey"],[39,38,25,36],[39,40,25,38],[40,10,26,8],[41,10,27,8],[41,17,27,15,"mmkv"],[41,21,27,19],[41,22,27,20,"getAllKeys"],[41,32,27,30],[41,33,27,31],[41,34,27,32],[42,8,28,6],[42,9,28,7],[42,15,28,13],[43,10,29,8],[44,10,30,8],[44,17,30,15,"keys"],[44,21,30,19],[45,8,31,6],[46,6,32,4],[46,7,32,5],[46,8,32,6],[47,4,33,2],[47,5,33,3],[47,7,33,5,"mmkv"],[47,11,33,9],[47,12,33,10],[48,4,35,2],[48,11,35,9,"allKeys"],[48,18,35,16],[49,2,36,0],[50,0,36,1],[50,3]],"functionMap":{"names":["<global>","useMMKVKeys","useState$argument_0","useMMKVListener$argument_0","setKeys$argument_0"],"mappings":"AAA;OCe;gDCE,uBD;kBEE;YCE;KDU;GFC;CDG"},"hasCjsExports":false},"type":"js/module"}]}