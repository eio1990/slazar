{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":41,"index":41}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../createMMKV/getDefaultMMKVInstance","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":90},"end":{"line":3,"column":77,"index":167}}],"key":"DiSZT0xdzLAiN93w0d0GfoSFlyA=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.useMMKVListener = useMMKVListener;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _createMMKVGetDefaultMMKVInstance = require(_dependencyMap[1], \"../createMMKV/getDefaultMMKVInstance\");\n  /**\n   * Listen for changes in the given MMKV storage instance.\n   * If no instance is passed, the default instance will be used.\n   * @param valueChangedListener The function to call whenever a value inside the storage instance changes\n   * @param instance The instance to listen to changes to (or the default instance)\n   *\n   * @example\n   * ```ts\n   * useMMKVListener((key) => {\n   *   console.log(`Value for \"${key}\" changed!`)\n   * })\n   * ```\n   */\n  function useMMKVListener(valueChangedListener, instance) {\n    var ref = (0, _react.useRef)(valueChangedListener);\n    ref.current = valueChangedListener;\n    var mmkv = instance ?? (0, _createMMKVGetDefaultMMKVInstance.getDefaultMMKVInstance)();\n    (0, _react.useEffect)(() => {\n      var listener = mmkv.addOnValueChangedListener(changedKey => {\n        ref.current(changedKey);\n      });\n      return () => listener.remove();\n    }, [mmkv]);\n  }\n});","lineCount":34,"map":[[7,2,18,0,"exports"],[7,9,18,0],[7,10,18,0,"useMMKVListener"],[7,25,18,0],[7,28,18,0,"useMMKVListener"],[7,43,18,0],[8,2,1,0],[8,6,1,0,"_react"],[8,12,1,0],[8,15,1,0,"require"],[8,22,1,0],[8,23,1,0,"_dependencyMap"],[8,37,1,0],[9,2,3,0],[9,6,3,0,"_createMMKVGetDefaultMMKVInstance"],[9,39,3,0],[9,42,3,0,"require"],[9,49,3,0],[9,50,3,0,"_dependencyMap"],[9,64,3,0],[10,2,5,0],[11,0,6,0],[12,0,7,0],[13,0,8,0],[14,0,9,0],[15,0,10,0],[16,0,11,0],[17,0,12,0],[18,0,13,0],[19,0,14,0],[20,0,15,0],[21,0,16,0],[22,0,17,0],[23,2,18,7],[23,11,18,16,"useMMKVListener"],[23,26,18,31,"useMMKVListener"],[23,27,19,2,"valueChangedListener"],[23,47,19,45],[23,49,20,2,"instance"],[23,57,20,17],[23,59,21,8],[24,4,22,2],[24,8,22,8,"ref"],[24,11,22,11],[24,14,22,14],[24,18,22,14,"useRef"],[24,24,22,20],[24,25,22,20,"useRef"],[24,31,22,20],[24,33,22,21,"valueChangedListener"],[24,53,22,41],[24,54,22,42],[25,4,23,2,"ref"],[25,7,23,5],[25,8,23,6,"current"],[25,15,23,13],[25,18,23,16,"valueChangedListener"],[25,38,23,36],[26,4,25,2],[26,8,25,8,"mmkv"],[26,12,25,12],[26,15,25,15,"instance"],[26,23,25,23],[26,27,25,27],[26,31,25,27,"getDefaultMMKVInstance"],[26,64,25,49],[26,65,25,49,"getDefaultMMKVInstance"],[26,87,25,49],[26,89,25,50],[26,90,25,51],[27,4,27,2],[27,8,27,2,"useEffect"],[27,14,27,11],[27,15,27,11,"useEffect"],[27,24,27,11],[27,26,27,12],[27,32,27,18],[28,6,28,4],[28,10,28,10,"listener"],[28,18,28,18],[28,21,28,21,"mmkv"],[28,25,28,25],[28,26,28,26,"addOnValueChangedListener"],[28,51,28,51],[28,52,28,53,"changedKey"],[28,62,28,63],[28,66,28,68],[29,8,29,6,"ref"],[29,11,29,9],[29,12,29,10,"current"],[29,19,29,17],[29,20,29,18,"changedKey"],[29,30,29,28],[29,31,29,29],[30,6,30,4],[30,7,30,5],[30,8,30,6],[31,6,31,4],[31,13,31,11],[31,19,31,17,"listener"],[31,27,31,25],[31,28,31,26,"remove"],[31,34,31,32],[31,35,31,33],[31,36,31,34],[32,4,32,2],[32,5,32,3],[32,7,32,5],[32,8,32,6,"mmkv"],[32,12,32,10],[32,13,32,11],[32,14,32,12],[33,2,33,0],[34,0,33,1],[34,3]],"functionMap":{"names":["<global>","useMMKVListener","useEffect$argument_0","mmkv.addOnValueChangedListener$argument_0","<anonymous>"],"mappings":"AAA;OCiB;YCS;oDCC;KDE;WEC,uBF;GDC;CDC"},"hasCjsExports":false},"type":"js/module"}]}