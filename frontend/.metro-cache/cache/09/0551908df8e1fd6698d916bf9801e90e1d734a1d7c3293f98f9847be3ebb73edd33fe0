{"dependencies":[{"name":"react-native-nitro-modules","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":57,"index":57}}],"key":"iUZu6b07nj98js9yz4mImWy+Bnw=","exportNames":["*"],"imports":1}},{"name":"react-native","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":261},"end":{"line":5,"column":39,"index":300}}],"key":"KyzuX10g6ixS9UfynhmjlvCIG3g=","exportNames":["*"],"imports":1}},{"name":"../addMemoryWarningListener/addMemoryWarningListener","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":301},"end":{"line":6,"column":95,"index":396}}],"key":"IR8LXcqd3Q5HXhu6NSxuST+y8eM=","exportNames":["*"],"imports":1}},{"name":"../isTest","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":397},"end":{"line":7,"column":34,"index":431}}],"key":"eN+9fpIkMuR1iIUmTDWiwM02ZRE=","exportNames":["*"],"imports":1}},{"name":"./createMockMMKV","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":432},"end":{"line":8,"column":49,"index":481}}],"key":"376xeDnpnJi5j5HTd4XDm6Ko7BE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.createMMKV = createMMKV;\n  var _reactNativeNitroModules = require(_dependencyMap[0], \"react-native-nitro-modules\");\n  var _reactNative = require(_dependencyMap[1], \"react-native\");\n  var _addMemoryWarningListenerAddMemoryWarningListener = require(_dependencyMap[2], \"../addMemoryWarningListener/addMemoryWarningListener\");\n  var _isTest = require(_dependencyMap[3], \"../isTest\");\n  var _createMockMMKV = require(_dependencyMap[4], \"./createMockMMKV\");\n  var factory;\n  var platformContext;\n  function createMMKV(configuration) {\n    if ((0, _isTest.isTest)()) {\n      // In a test environment, we mock the MMKV instance.\n      return (0, _createMockMMKV.createMockMMKV)();\n    }\n    if (platformContext == null) {\n      // Lazy-init the platform-context HybridObject\n      platformContext = _reactNativeNitroModules.NitroModules.createHybridObject('MMKVPlatformContext');\n    }\n    if (factory == null) {\n      // Lazy-init the factory HybridObject\n      factory = _reactNativeNitroModules.NitroModules.createHybridObject('MMKVFactory');\n      var baseDirectory = platformContext.getBaseDirectory();\n      factory.initializeMMKV(baseDirectory);\n    }\n\n    // Pre-parse the config\n    var config = configuration ?? {\n      id: factory.defaultMMKVInstanceId\n    };\n    if (_reactNative.Platform.OS === 'ios') {\n      if (config.path == null) {\n        // If the user set an App Group directory in Info.plist, let's use\n        // the App Group as a MMKV path:\n        var appGroupDirectory = platformContext.getAppGroupDirectory();\n        if (appGroupDirectory != null) {\n          config.path = appGroupDirectory;\n        }\n      }\n    }\n\n    // Creates the C++ MMKV HybridObject\n    var mmkv = factory.createMMKV(config);\n    // Add a hook that trims the storage when we get a memory warning\n    (0, _addMemoryWarningListenerAddMemoryWarningListener.addMemoryWarningListener)(mmkv);\n    return mmkv;\n  }\n});","lineCount":52,"map":[[7,2,13,0,"exports"],[7,9,13,0],[7,10,13,0,"createMMKV"],[7,20,13,0],[7,23,13,0,"createMMKV"],[7,33,13,0],[8,2,1,0],[8,6,1,0,"_reactNativeNitroModules"],[8,30,1,0],[8,33,1,0,"require"],[8,40,1,0],[8,41,1,0,"_dependencyMap"],[8,55,1,0],[9,2,5,0],[9,6,5,0,"_reactNative"],[9,18,5,0],[9,21,5,0,"require"],[9,28,5,0],[9,29,5,0,"_dependencyMap"],[9,43,5,0],[10,2,6,0],[10,6,6,0,"_addMemoryWarningListenerAddMemoryWarningListener"],[10,55,6,0],[10,58,6,0,"require"],[10,65,6,0],[10,66,6,0,"_dependencyMap"],[10,80,6,0],[11,2,7,0],[11,6,7,0,"_isTest"],[11,13,7,0],[11,16,7,0,"require"],[11,23,7,0],[11,24,7,0,"_dependencyMap"],[11,38,7,0],[12,2,8,0],[12,6,8,0,"_createMockMMKV"],[12,21,8,0],[12,24,8,0,"require"],[12,31,8,0],[12,32,8,0,"_dependencyMap"],[12,46,8,0],[13,2,10,0],[13,6,10,4,"factory"],[13,13,10,36],[14,2,11,0],[14,6,11,4,"platformContext"],[14,21,11,52],[15,2,13,7],[15,11,13,16,"createMMKV"],[15,21,13,26,"createMMKV"],[15,22,13,27,"configuration"],[15,35,13,56],[15,37,13,64],[16,4,14,2],[16,8,14,6],[16,12,14,6,"isTest"],[16,19,14,12],[16,20,14,12,"isTest"],[16,26,14,12],[16,28,14,13],[16,29,14,14],[16,31,14,16],[17,6,15,4],[18,6,16,4],[18,13,16,11],[18,17,16,11,"createMockMMKV"],[18,32,16,25],[18,33,16,25,"createMockMMKV"],[18,47,16,25],[18,49,16,26],[18,50,16,27],[19,4,17,2],[20,4,19,2],[20,8,19,6,"platformContext"],[20,23,19,21],[20,27,19,25],[20,31,19,29],[20,33,19,31],[21,6,20,4],[22,6,21,4,"platformContext"],[22,21,21,19],[22,24,21,22,"NitroModules"],[22,48,21,34],[22,49,21,34,"NitroModules"],[22,61,21,34],[22,62,21,35,"createHybridObject"],[22,80,21,53],[22,81,22,6],[22,102,23,4],[22,103,23,5],[23,4,24,2],[24,4,25,2],[24,8,25,6,"factory"],[24,15,25,13],[24,19,25,17],[24,23,25,21],[24,25,25,23],[25,6,26,4],[26,6,27,4,"factory"],[26,13,27,11],[26,16,27,14,"NitroModules"],[26,40,27,26],[26,41,27,26,"NitroModules"],[26,53,27,26],[26,54,27,27,"createHybridObject"],[26,72,27,45],[26,73,27,59],[26,86,27,72],[26,87,27,73],[27,6,28,4],[27,10,28,10,"baseDirectory"],[27,23,28,23],[27,26,28,26,"platformContext"],[27,41,28,41],[27,42,28,42,"getBaseDirectory"],[27,58,28,58],[27,59,28,59],[27,60,28,60],[28,6,29,4,"factory"],[28,13,29,11],[28,14,29,12,"initializeMMKV"],[28,28,29,26],[28,29,29,27,"baseDirectory"],[28,42,29,40],[28,43,29,41],[29,4,30,2],[31,4,32,2],[32,4,33,2],[32,8,33,6,"config"],[32,14,33,12],[32,17,33,15,"configuration"],[32,30,33,28],[32,34,33,32],[33,6,33,34,"id"],[33,8,33,36],[33,10,33,38,"factory"],[33,17,33,45],[33,18,33,46,"defaultMMKVInstanceId"],[34,4,33,68],[34,5,33,69],[35,4,35,2],[35,8,35,6,"Platform"],[35,20,35,14],[35,21,35,14,"Platform"],[35,29,35,14],[35,30,35,15,"OS"],[35,32,35,17],[35,37,35,22],[35,42,35,27],[35,44,35,29],[36,6,36,4],[36,10,36,8,"config"],[36,16,36,14],[36,17,36,15,"path"],[36,21,36,19],[36,25,36,23],[36,29,36,27],[36,31,36,29],[37,8,37,6],[38,8,38,6],[39,8,39,6],[39,12,39,12,"appGroupDirectory"],[39,29,39,29],[39,32,39,32,"platformContext"],[39,47,39,47],[39,48,39,48,"getAppGroupDirectory"],[39,68,39,68],[39,69,39,69],[39,70,39,70],[40,8,40,6],[40,12,40,10,"appGroupDirectory"],[40,29,40,27],[40,33,40,31],[40,37,40,35],[40,39,40,37],[41,10,41,8,"config"],[41,16,41,14],[41,17,41,15,"path"],[41,21,41,19],[41,24,41,22,"appGroupDirectory"],[41,41,41,39],[42,8,42,6],[43,6,43,4],[44,4,44,2],[46,4,46,2],[47,4,47,2],[47,8,47,8,"mmkv"],[47,12,47,12],[47,15,47,15,"factory"],[47,22,47,22],[47,23,47,23,"createMMKV"],[47,33,47,33],[47,34,47,34,"config"],[47,40,47,40],[47,41,47,41],[48,4,48,2],[49,4,49,2],[49,8,49,2,"addMemoryWarningListener"],[49,57,49,26],[49,58,49,26,"addMemoryWarningListener"],[49,82,49,26],[49,84,49,27,"mmkv"],[49,88,49,31],[49,89,49,32],[50,4,50,2],[50,11,50,9,"mmkv"],[50,15,50,13],[51,2,51,0],[52,0,51,1],[52,3]],"functionMap":{"names":["<global>","createMMKV"],"mappings":"AAA;OCY;CDsC"},"hasCjsExports":false},"type":"js/module"}]}